manifest {
    mainScript = 'analysis.nf'
}

// default parameters
params {
    cores = "8"
    memory = '16'
    help = false
    profile = false

    // inputs
    fasta = ''
    fastq = ''
    fastqPair = ''
    dir = ''
    dev = ''
    samplename = ''
    watchFast5 = ''
    list = false
    workdir = "/tmp/nextflow-docker_pipelines-$USER"
    
    // databases
    centrifuge_db = false
    gtdbtk_db = false
    sour_db = false
    tax_db = false

    // tools
    abricate = false
    abricateBatch = false
    centrifuge = false
    deepHumanPathogen = false
    gtdbtk = false
    guppygpu = false
    metamaps = false
    mobile = false
    nanoplot = false
    plasflow = false
    res_compare = false
    sourclass = false
    sourcluster = false
    sourmeta = false
    tree_aa = false
    plasmid_analysis = false
    plasmid_annotate = false
    coverage = false
    assembly_ont = false
    
    // settings
    filenames = false
    size = '1400'
    model = 'r941_min_high'
    gsize = '8m'
    overlap = '1000'

    // basecalling
    flowcell = 'FLO-MIN106'
    kit = 'SQK-LSK109'
    barcode = ''
    config = false
    configtype = 'dna_r9.4.1_450bps_modbases_dam-dcm-cpg_hac.cfg'

    // folder structure
    output = 'results'

    // databases
    cloudDatabase = false

}

profiles {
    standard {
        params.cloudProcess = false
        workDir = params.workdir
        includeConfig 'configs/local.config'
        includeConfig 'configs/docker.config'
    }

    local {
        params.cloudProcess = false
        workDir = params.workdir
        includeConfig 'configs/local.config'
    }
    
    docker {
        includeConfig 'configs/docker.config'
    }

    gcloud {
        params.cloudProcess = true
        workDir = params.workdir
        bucketDir = 'gs://nextflow-tmp-workdir/workdir-analysis'
        google {  project = 'nextflow-auto' ; zone = 'europe-west1-b' }
        cloud { preemptible = true }
        includeConfig 'configs/gcloud.config'
        includeConfig 'configs/docker.config'
    }
}